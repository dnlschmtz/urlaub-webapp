/* generated by Svelte v3.42.3 */
import {
	SvelteComponent,
	init,
	safe_not_equal
} from "https://cdn.skypack.dev/svelte@3.44.1/internal";

function create(dates) {
	let rows = [];

	dates.forEach(element => {
		rows.push([element.name, new Date(element.start), new Date(element.end)]);
	});

	google.charts.load('current', { 'packages': ['timeline'] });
	google.charts.setOnLoadCallback(drawChart);

	function drawChart() {
		let container = document.getElementById('timeline');
		let chart = new google.visualization.Timeline(container);
		let dataTable = new google.visualization.DataTable();
		dataTable.addColumn({ type: 'string', id: 'Name' });
		dataTable.addColumn({ type: 'date', id: 'Anfang' });
		dataTable.addColumn({ type: 'date', id: 'Ende' });
		dataTable.addRows(rows);
		let options = { timeline: { singleColor: '#ffa947' } };

		/*
google.visualization.events.addListener(chart, 'ready', function () {
    let rects = container.getElementsByTagName('rect');
    Array.prototype.forEach.call(rects, function(rect) {
        if ((rect.getAttribute('x') === '0') && (rect.getAttribute('stroke') === 'none')) {
            rect.setAttribute('fill', '#eee');
        }
    });
});*/
		chart.draw(dataTable, options);
	}
}

function instance($$self, $$props, $$invalidate) {
	return [create];
}

class Component extends SvelteComponent {
	constructor(options) {
		super();
		init(this, options, instance, null, safe_not_equal, { create: 0 });
	}

	get create() {
		return create;
	}
}

export default Component;